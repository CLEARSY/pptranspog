# Search for a suitable shell program, so that the tests can be run under windows
# if a unix-like shell is available
find_program(SHELL
	NAMES bash sh
	PATHS env PATH)

configure_file(${CMAKE_CURRENT_SOURCE_DIR}/setENV.model
  ${CMAKE_CURRENT_SOURCE_DIR}/setENV)


macro(add_pptranssmt_test id args)
  add_test(PPTRANSSMT.${id} ${SHELL} ${CMAKE_CURRENT_SOURCE_DIR}/do_ctest ${CMAKE_CURRENT_SOURCE_DIR} ${id} SMT)
  set_tests_properties(PPTRANSSMT.${id} PROPERTIES FAIL_REGULAR_EXPRESSION ".*Error")
  set_tests_properties(PPTRANSSMT.${id} PROPERTIES PASS_REGULAR_EXPRESSION ".* OK\\.")
  set_tests_properties(PPTRANSSMT.${id} PROPERTIES TIMEOUT 14400)
  set_tests_properties(PPTRANSSMT.${id} PROPERTIES LABELS "${args};SMT")
endmacro(add_pptranssmt_test)

macro(add_pptranstptp_test id args)
  add_test(PPTRANSTPTP.${id} ${SHELL} ${CMAKE_CURRENT_SOURCE_DIR}/do_ctest ${CMAKE_CURRENT_SOURCE_DIR} ${id} TPTP)
  set_tests_properties(PPTRANSTPTP.${id} PROPERTIES FAIL_REGULAR_EXPRESSION ".*Error")
  set_tests_properties(PPTRANSTPTP.${id} PROPERTIES PASS_REGULAR_EXPRESSION ".* OK\\.")
  set_tests_properties(PPTRANSTPTP.${id} PROPERTIES TIMEOUT 14400)
  set_tests_properties(PPTRANSTPTP.${id} PROPERTIES LABELS "${args};TPTP")
endmacro(add_pptranstptp_test)

add_pptranssmt_test(test001 "Mpred;Msucc;Mid;Mcomp")
add_pptranssmt_test(test002 "EC15;EC17")
add_pptranssmt_test(test003 "MPow")
add_pptranssmt_test(test004 "MPow")
add_pptranssmt_test(test005 "MInteger")
add_pptranssmt_test(test006 "EC9;EC10;MPow")
add_pptranssmt_test(test007 "Erec")
add_pptranssmt_test(test008 "EC1;EC2")
add_pptranssmt_test(test009 "EC3;EC4;EC5;EC6")
add_pptranssmt_test(test010 "EC7;EC8")
add_pptranssmt_test(test011 "EC9;EC10")
add_pptranssmt_test(test012 "EC11;EC12;EC13;EC14")
add_pptranssmt_test(test013 "Ebool1")
add_pptranssmt_test(test014 "Ebool2;Ebool3;Ebool4;Ebool5")
add_pptranssmt_test(test015 "Ebool6;EBool7")
add_pptranssmt_test(test016 "Eprod")
add_pptranssmt_test(test017 "Eset")
add_pptranssmt_test(test018 "Erec")
add_pptranssmt_test(test019 "I<<:")
add_pptranssmt_test(test020 "I<:")
add_pptranssmt_test(test021 "M{};Mlhs")
add_pptranssmt_test(test022 "M[];Mlhs")
add_pptranssmt_test(test023 "MINTEGER")
add_pptranssmt_test(test024 "MBOOL")
add_pptranssmt_test(test025 "MREAL")
add_pptranssmt_test(test026 "MSTRING")
add_pptranssmt_test(test027 "MNATURAL")
add_pptranssmt_test(test028 "MNATURAL1")
add_pptranssmt_test(test029 "MINT")
add_pptranssmt_test(test030 "MNAT")
add_pptranssmt_test(test031 "MNAT1")
add_pptranssmt_test(test032 "MFIN;MFIN1")
add_pptranssmt_test(test033 "MPOW;MPOW1")
add_pptranssmt_test(test034 "Munion")
add_pptranssmt_test(test035 "Minter")
add_pptranssmt_test(test036 "Mclosure")
add_pptranssmt_test(test037 "Mclosure1")
add_pptranssmt_test(test038 "Mran;Mdom;Mlhs")
add_pptranssmt_test(test039 "Mseq")
add_pptranssmt_test(test040 "Mseq1")
add_pptranssmt_test(test041 "Miseq")
add_pptranssmt_test(test042 "Miseq1")
add_pptranssmt_test(test043 "Mperm")
add_pptranssmt_test(test044 "Mreverse;Mlhs")
add_pptranssmt_test(test045 "Mid")
add_pptranssmt_test(test046 "Mfnc;Mlhs")
add_pptranssmt_test(test047 "Mrel;Mlhs")
add_pptranssmt_test(test048 "Mfront;Mlhs")
add_pptranssmt_test(test049 "Mtail;Mlhs")
add_pptranssmt_test(test050 "Mconc")
add_pptranssmt_test(test051 "Mfirst;Mlast")
add_pptranssmt_test(test052 "Mext;Mlhs")
add_pptranssmt_test(test053 "Mseqext;Mlhs")
add_pptranssmt_test(test054 "Mrev;Mlhs")
add_pptranssmt_test(test055 "Minterval")
add_pptranssmt_test(test056 "Msetdifference")
add_pptranssmt_test(test057 "Msetunion")
add_pptranssmt_test(test058 "Msetinter")
add_pptranssmt_test(test059 "Mrelset")
add_pptranssmt_test(test060 "Mimage")
add_pptranssmt_test(test061 "Mpartial_function")
add_pptranssmt_test(test062 "Mtotal_function")
add_pptranssmt_test(test063 "Mpartial_injection")
add_pptranssmt_test(test064 "Mtotal_injection")
add_pptranssmt_test(test065 "Mpartial_surjection")
add_pptranssmt_test(test066 "Mtotal_surjection")
add_pptranssmt_test(test067 "Mtotal_bijection")
add_pptranssmt_test(test068 "Mcomp")
add_pptranssmt_test(test069 "M><;Mlhs")
add_pptranssmt_test(test070 "M||;Mlhs")
add_pptranssmt_test(test071 "M|>>;Mlhs")
add_pptranssmt_test(test072 "M<<|;Mlhs")
add_pptranssmt_test(test073 "Mprj1;Mprj2;Mlhs")
add_pptranssmt_test(test074 "M<|;Mlhs")
add_pptranssmt_test(test075 "M|>;Mlhs")
add_pptranssmt_test(test076 "M<+;Mlhs")
add_pptranssmt_test(test077 "M*;Mlhs")
add_pptranssmt_test(test078 "M^;Mlhs")
add_pptranssmt_test(test079 "M->;Mlhs")
add_pptranssmt_test(test080 "M<-;Mlhs")
add_pptranssmt_test(test081 "Mheadrestrict;Mlhs")
add_pptranssmt_test(test082 "Mtailrestrict;Mlhs")
add_pptranssmt_test(test083 "M()")
add_pptranssmt_test(test084 "Mlambda;Mlhs")
add_pptranssmt_test(test085 "Mcomp;Mlhs")
add_pptranssmt_test(test086 "Miterate1;Miterate2")
add_pptranssmt_test(test087 "C1;C2")
add_pptranssmt_test(test088 "C3;C4")
add_pptranssmt_test(test089 "C5;C6")
add_pptranssmt_test(test090 "C7;C8")
add_pptranssmt_test(test091 "Macc")
add_pptranssmt_test(test092 "Mlhs")

add_pptranstptp_test(test001 "Mpred;Msucc;Mid;Mcomp")
add_pptranstptp_test(test002 "EC15;EC17")
add_pptranstptp_test(test003 "MPow")
add_pptranstptp_test(test004 "MPow")
add_pptranstptp_test(test005 "MInteger")
add_pptranstptp_test(test006 "EC9;EC10;MPow")
add_pptranstptp_test(test008 "EC1;EC2")
add_pptranstptp_test(test009 "EC3;EC4;EC5;EC6")
add_pptranstptp_test(test010 "EC7;EC8")
add_pptranstptp_test(test011 "EC9;EC10")
add_pptranstptp_test(test012 "EC11;EC12;EC13;EC14")
add_pptranstptp_test(test013 "Ebool1")
add_pptranstptp_test(test014 "Ebool2;Ebool3;Ebool4;Ebool5")
add_pptranstptp_test(test015 "Ebool6;EBool7")
add_pptranstptp_test(test016 "Eprod")
add_pptranstptp_test(test017 "Eset")
add_pptranstptp_test(test018 "Erec")
add_pptranstptp_test(test019 "I<<:")
add_pptranstptp_test(test020 "I<:")
add_pptranstptp_test(test021 "M{};Mlhs")
add_pptranstptp_test(test022 "M[];Mlhs")
add_pptranstptp_test(test023 "MINTEGER")
add_pptranstptp_test(test024 "MBOOL")
add_pptranstptp_test(test025 "MREAL")
add_pptranstptp_test(test026 "MSTRING")
add_pptranstptp_test(test027 "MNATURAL")
add_pptranstptp_test(test028 "MNATURAL1")
add_pptranstptp_test(test029 "MINT")
add_pptranstptp_test(test030 "MNAT")
add_pptranstptp_test(test031 "MNAT1")
add_pptranstptp_test(test032 "MFIN;MFIN1")
add_pptranstptp_test(test033 "MPOW;MPOW1")
add_pptranstptp_test(test034 "Munion")
add_pptranstptp_test(test035 "Minter")
add_pptranstptp_test(test036 "Mclosure")
add_pptranstptp_test(test037 "Mclosure1")
add_pptranstptp_test(test038 "Mran;Mdom;Mlhs")
add_pptranstptp_test(test039 "Mseq")
add_pptranstptp_test(test040 "Mseq1")
add_pptranstptp_test(test041 "Miseq")
add_pptranstptp_test(test042 "Miseq1")
add_pptranstptp_test(test043 "Mperm")
add_pptranstptp_test(test044 "Mreverse;Mlhs")
add_pptranstptp_test(test045 "Mid")
add_pptranstptp_test(test046 "Mfnc;Mlhs")
add_pptranstptp_test(test047 "Mrel;Mlhs")
add_pptranstptp_test(test048 "Mfront;Mlhs")
add_pptranstptp_test(test049 "Mtail;Mlhs")
add_pptranstptp_test(test050 "Mconc")
add_pptranstptp_test(test051 "Mfirst;Mlast")
add_pptranstptp_test(test052 "Mext;Mlhs")
add_pptranstptp_test(test053 "Mseqext;Mlhs")
add_pptranstptp_test(test054 "Mrev;Mlhs")
add_pptranstptp_test(test055 "Minterval")
add_pptranstptp_test(test056 "Msetdifference")
add_pptranstptp_test(test057 "Msetunion")
add_pptranstptp_test(test058 "Msetinter")
add_pptranstptp_test(test059 "Mrelset")
add_pptranstptp_test(test060 "Mimage")
add_pptranstptp_test(test061 "Mpartial_function")
add_pptranstptp_test(test062 "Mtotal_function")
add_pptranstptp_test(test063 "Mpartial_injection")
add_pptranstptp_test(test064 "Mtotal_injection")
add_pptranstptp_test(test065 "Mpartial_surjection")
add_pptranstptp_test(test066 "Mtotal_surjection")
add_pptranstptp_test(test067 "Mtotal_bijection")
add_pptranstptp_test(test068 "Mcomp")
add_pptranstptp_test(test069 "M><;Mlhs")
add_pptranstptp_test(test070 "M||;Mlhs")
add_pptranstptp_test(test071 "M|>>;Mlhs")
add_pptranstptp_test(test072 "M<<|;Mlhs")
add_pptranstptp_test(test073 "Mprj1;Mprj2;Mlhs")
add_pptranstptp_test(test074 "M<|;Mlhs")
add_pptranstptp_test(test075 "M|>;Mlhs")
add_pptranstptp_test(test076 "M<+;Mlhs")
add_pptranstptp_test(test077 "M*;Mlhs")
add_pptranstptp_test(test078 "M^;Mlhs")
add_pptranstptp_test(test079 "M->;Mlhs")
add_pptranstptp_test(test080 "M<-;Mlhs")
add_pptranstptp_test(test081 "Mheadrestrict;Mlhs")
add_pptranstptp_test(test082 "Mtailrestrict;Mlhs")
add_pptranstptp_test(test083 "M()")
add_pptranstptp_test(test084 "Mlambda;Mlhs")
add_pptranstptp_test(test085 "Mcomp;Mlhs")
add_pptranstptp_test(test086 "Miterate1;Miterate2")
add_pptranstptp_test(test087 "C1;C2")
add_pptranstptp_test(test088 "C3;C4")
add_pptranstptp_test(test089 "C5;C6")
add_pptranstptp_test(test090 "C7;C8")
add_pptranstptp_test(test092 "Mlhs")
